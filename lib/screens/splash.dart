import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:week7/screens/home.dart';
import 'package:week7/screens/login.dart';

class SplashScreen extends StatefulWidget {
  const SplashScreen({super.key});

  @override
  State<SplashScreen> createState() => _SplashScreenState();
}

class _SplashScreenState extends State<SplashScreen> {
  @override
  void initState() {
     navigateToHome(context);
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      // body: Center(child: Image.network('data:image/png;base64,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',)),
    );
  }

  navigateToHome(BuildContext context) async {
    await Future.delayed(
      const Duration(seconds: 2),
    );
    var pref = await SharedPreferences.getInstance();
    var loggedin = pref.getBool('isLogged');
    loggedin == true
        ? Navigator.pushReplacement(context, MaterialPageRoute(builder: (context) => const HomePage(), ))
        : Navigator.pushReplacement(
            context,
            MaterialPageRoute(
              builder: (context) => const LoginPage(),
            ),
          );
  }
}